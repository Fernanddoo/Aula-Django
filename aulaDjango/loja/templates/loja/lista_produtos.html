{% extends 'loja/base.html' %}

{% block title %}Lista de Produtos{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center">
    <h1>Produtos da Loja</h1>
    <a href="{% url 'adicionar_produto' %}" class="btn btn-primary">Adicionar Novo Produto</a>
</div>
<hr>

{% if produtos %}
<table class="table table-striped table-hover">
    <thead class="table-dark">
        <tr>
            <th>Nome</th>
            <th>Preço</th>
            <th>Descrição</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
        {% for produto in produtos %}
        <tr>
            <td>{{ produto.nome }}</td>
            <td>R$ {{ produto.preco }}</td>
            <td>{{ produto.descricao|default:"-" }}</td>
            <td>
                <a href="{% url 'editar_produto' pk=produto.pk %}" class="btn btn-secondary btn-sm">Editar</a>
                <a href="{% url 'excluir_produto' pk=produto.pk %}" class="btn btn-danger btn-sm">Excluir</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="alert alert-warning" role="alert">
    Nenhum produto cadastrado ainda.
</div>
{% endif %}
{% endblock %}